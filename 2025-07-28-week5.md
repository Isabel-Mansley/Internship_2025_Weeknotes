# Week 5 - 28 July 2025
Returning to the Cairngorms, it was necessary to compare the map TESSERA had created with existing maps of the region to establish what our model was doing well and more importantly, what needed improving.

A high quality existing map was the NatureScot map of the region. I downloaded this map, which was composed of polygons, rasterized it, and then ran a confusion matrix on it against the TESSERA map.
This is just a preliminary run as the categories of the NatureScot map were different to those chosen for the TESSERA map, so as to best compare them, some categories were merged, and others ignored for this comparison.

In the end I was left with 6 categories: (0) heath, (1) bog, (2) wood, (3) urban, (4) grassland, and (5) water

This gave a 63.6% accuracy with some categories doing better than others.

![A confusion matrix of the TESSERA map with a NatureScot map](/images/week5/nature-scot-confusion-matrix.png)

Some improvements to be made include:

- Including more categories e.g. alpine was completely ignored in this
- Looking at nuance, can the model tell between restored and degraded bog given that this was put into one category?

Notably when looking at the resultant maps the naturescot and TESSERA map were opposites when it came to overgeneralising. 
Comprised of polygons, the naturescot map would state that one large area is woodland and can miss smaller features included within. 
Conversely TESSERA would decide that the small region between a grassland and forest must be heath, despite the fact that it should have just been classified as one of the former.

The biggest discrepancy highlighted by the confusion matrix was woodland being predicted as heath. 
Looking into the maps this was primarily where the forest cover was not as dense, or clearfell areas which the naturescot map had as woodland (maybe due to being a year or two outdated) and TESSERA was primarily classing as heath. 
I added some manual points of clearfell areas to hopefully give the model more training data and improve this classification. 

In addition to this, a not insignificant amount of “water” was predicted as “urban” - I imagine this is because currently TESSERA predicts shingle beside lakes and rivers to be urban, as it does not have a class for it and if the area classed as “water” doesn’t quite line up between the two maps it can lead to some inconsistencies. 
This might mean that it is necessary to create a sand / shingle class.

Next I compared it to the space intelligence map. This was the most detailed and so had more categories that could be compared giving a much more comprehensive view:

(0) broadleaved  (1) pine  (2) grassland  (3) alpine  (4) heath  (5) alpine_heath  (6) bog  (7) urban  (8) water
A constant theme has been over predicting heathland, and also getting heath and bog confused.

It had an accuracy of 67.9% overall. Crucially the accuracy may be higher as the space intelligence map is from a few years ago so some classes were not lining up (like if a section of forest had been deforested in between map creations)

![A confusion matrix of the TESSERA map with a space intelligence map](/images/week5/space-intelligence-confusion-matix.png)
